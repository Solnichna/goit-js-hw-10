{"version":3,"file":"commonHelpers.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from \"flatpickr\";\nimport \"flatpickr/dist/flatpickr.min.css\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nlet userSelectedDate;\n\nfunction isValidDate(selectedDate) {\n  const currentDate = new Date();\n  return selectedDate > currentDate;\n}\n\nfunction addLeadingZero(value) {\n  return value < 10 ? `0${value}` : value;\n}\n\nfunction updateTimerInterface(time) {\n  const daysElem = document.querySelector('[data-days]');\n  const hoursElem = document.querySelector('[data-hours]');\n  const minutesElem = document.querySelector('[data-minutes]');\n  const secondsElem = document.querySelector('[data-seconds]');\n\n  daysElem.textContent = addLeadingZero(time.days);\n  hoursElem.textContent = addLeadingZero(time.hours);\n  minutesElem.textContent = addLeadingZero(time.minutes);\n  secondsElem.textContent = addLeadingZero(time.seconds);\n}\n\nfunction calculateTimeDifference(selectedDate) {\n  const currentTime = new Date();\n  const timeDifference = selectedDate - currentTime;\n\n  return convertMs(timeDifference);\n}\n\nfunction convertMs(ms) {\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n\n  const days = Math.floor(ms / day);\n  const hours = Math.floor((ms % day) / hour);\n  const minutes = Math.floor(((ms % day) % hour) / minute);\n  const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n  return { days, hours, minutes, seconds };\n}\n\nfunction toggleStartButtonState(disabled) {\n  const startButton = document.querySelector('[data-start]');\n  startButton.disabled = disabled;\n}\n\nconst options = {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n  onClose(selectedDates) {\n    userSelectedDate = selectedDates[0];\n\n    if (isValidDate(userSelectedDate)) {\n      toggleStartButtonState(false);\n    } else {\n      iziToast.warning({\n        title: 'Warning',\n        message: 'Please choose a date in the future',\n      });\n      toggleStartButtonState(true);\n    }\n  },\n};\n\nflatpickr(\"#datetime-picker\", options);\n\ndocument.querySelector('[data-start]').addEventListener('click', () => {\n  \n  toggleStartButtonState(true);\n  document.getElementById('datetime-picker').disabled = true;\n\n  const timerInterval = setInterval(() => {\n    const timeDifference = calculateTimeDifference(userSelectedDate);\n\n    updateTimerInterface(timeDifference);\n\n    if (timeDifference.days === 0 && timeDifference.hours === 0 &&\n        timeDifference.minutes === 0 && timeDifference.seconds === 0) {\n      clearInterval(timerInterval);\n      iziToast.success({\n        title: 'Countdown Timer',\n        message: 'Countdown timer has reached the end!',\n      });\n    }\n  }, 1000);\n});\n"],"names":["userSelectedDate","isValidDate","selectedDate","currentDate","addLeadingZero","value","updateTimerInterface","time","daysElem","hoursElem","minutesElem","secondsElem","calculateTimeDifference","currentTime","timeDifference","convertMs","ms","days","hours","minutes","seconds","toggleStartButtonState","disabled","startButton","options","selectedDates","iziToast","flatpickr","timerInterval"],"mappings":"sGAKA,IAAIA,EAEJ,SAASC,EAAYC,EAAc,CACjC,MAAMC,EAAc,IAAI,KACxB,OAAOD,EAAeC,CACxB,CAEA,SAASC,EAAeC,EAAO,CAC7B,OAAOA,EAAQ,GAAK,IAAIA,IAAUA,CACpC,CAEA,SAASC,EAAqBC,EAAM,CAClC,MAAMC,EAAW,SAAS,cAAc,aAAa,EAC/CC,EAAY,SAAS,cAAc,cAAc,EACjDC,EAAc,SAAS,cAAc,gBAAgB,EACrDC,EAAc,SAAS,cAAc,gBAAgB,EAE3DH,EAAS,YAAcJ,EAAeG,EAAK,IAAI,EAC/CE,EAAU,YAAcL,EAAeG,EAAK,KAAK,EACjDG,EAAY,YAAcN,EAAeG,EAAK,OAAO,EACrDI,EAAY,YAAcP,EAAeG,EAAK,OAAO,CACvD,CAEA,SAASK,EAAwBV,EAAc,CAC7C,MAAMW,EAAc,IAAI,KAClBC,EAAiBZ,EAAeW,EAEtC,OAAOE,EAAUD,CAAc,CACjC,CAEA,SAASC,EAAUC,EAAI,CAMrB,MAAMC,EAAO,KAAK,MAAMD,EAAK,KAAG,EAC1BE,EAAQ,KAAK,MAAOF,EAAK,MAAO,IAAI,EACpCG,EAAU,KAAK,MAAQH,EAAK,MAAO,KAAQ,GAAM,EACjDI,EAAU,KAAK,MAASJ,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAE,KAAAC,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACxC,CAEA,SAASC,EAAuBC,EAAU,CACxC,MAAMC,EAAc,SAAS,cAAc,cAAc,EACzDA,EAAY,SAAWD,CACzB,CAEA,MAAME,EAAU,CACd,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACrBzB,EAAmByB,EAAc,GAE7BxB,EAAYD,CAAgB,EAC9BqB,EAAuB,EAAK,GAE5BK,EAAS,QAAQ,CACf,MAAO,UACP,QAAS,oCACjB,CAAO,EACDL,EAAuB,EAAI,EAE9B,CACH,EAEAM,EAAU,mBAAoBH,CAAO,EAErC,SAAS,cAAc,cAAc,EAAE,iBAAiB,QAAS,IAAM,CAErEH,EAAuB,EAAI,EAC3B,SAAS,eAAe,iBAAiB,EAAE,SAAW,GAEtD,MAAMO,EAAgB,YAAY,IAAM,CACtC,MAAMd,EAAiBF,EAAwBZ,CAAgB,EAE/DM,EAAqBQ,CAAc,EAE/BA,EAAe,OAAS,GAAKA,EAAe,QAAU,GACtDA,EAAe,UAAY,GAAKA,EAAe,UAAY,IAC7D,cAAcc,CAAa,EAC3BF,EAAS,QAAQ,CACf,MAAO,kBACP,QAAS,sCACjB,CAAO,EAEJ,EAAE,GAAI,CACT,CAAC"}